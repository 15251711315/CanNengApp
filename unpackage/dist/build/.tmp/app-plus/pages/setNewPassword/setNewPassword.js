(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/setNewPassword/setNewPassword"],{"122a":function(e,a,t){},7069:function(e,a,t){"use strict";(function(e,n){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s=function(){return t.e("components/back").then(t.bind(null,"1898"))},o={data:function(){return{pageNameFlag:1,showFlag:0,pageName:"忘记密码",phoneNum:"",passwordFlag:!0,againFlag:!0,password:"",again:"",seeFlag:0,seeAgainFlag:0,loadingFlag:!1,doneFlag:0,sendAgain:"发送验证码",sendAgainFlag:0,resetFlag:0,vercode:"",second:60,errorMsg:"",disabledFlag:!1}},methods:{changeVercode:function(e){var a=this;e.detail.value.length>0?(a.vercode=e.detail.value,a.resetFlag=1):(a.vercode="",a.resetFlag=0),6==e.detail.value.length?a.nextFlag=1:a.nextFlag=0},reset:function(){this.vercode="",this.resetFlag=0,this.nextFlag=0},setPassword:function(e){var a=this;e.detail.value.length>0?(a.seeFlag=1,a.password=e.detail.value.trim(),e.detail.value.trim().length>=6&&a.again.trim().length>=6?a.doneFlag=1:a.doneFlag=0):(a.seeFlag=0,a.password="")},setAgain:function(e){var a=this;e.detail.value.length>0?(a.seeAgainFlag=1,a.again=e.detail.value.trim(),e.detail.value.trim().length>=6&&a.password.trim().length>=6?a.doneFlag=1:a.doneFlag=0):(a.seeAgainFlag=0,a.again="")},see:function(e){this.passwordFlag=e},seeAgain:function(e){this.againFlag=e},sendVercodeAgain:function(){var a=this;60==a.second&&(a.sendAgainFlag=1,e.request({url:a.serverUrl+"/user/authCode",method:"POST",data:{phone:a.phoneNum,devCode:a.cid(),type:3},header:{"content-type":"application/x-www-form-urlencoded"},sslVerify:!1,success:function(e){if("10000"==e.data.resultCode){a.second--;var t=setInterval(function(){a.sendAgain="重新发送("+a.second--+"S)"},1e3);setTimeout(function(){clearInterval(t),a.sendAgain="发送验证码",a.second=60,a.sendAgainFlag=0},61e3)}else a.errorMsg=a.showError(e.data.msgCode,e.data.msg),a.showFlag=1,setTimeout(function(){a.errorMsg="",a.showFlag=0,a.sendAgainFlag=0},5e3)},fail:function(){a.sendAgainFlag=0,e.showModal({title:"提示",content:"网络或服务器异常，请稍后再试",showCancel:!1,success:function(e){e.confirm?n("log","用户点击确定"," at pages\\setNewPassword\\setNewPassword.vue:187"):e.cancel&&n("log","用户点击取消"," at pages\\setNewPassword\\setNewPassword.vue:189")}})}}))},complete:function(){var a=this,t=a.password.trim(),s=a.again.trim();a.disabledFlag=!0,t.trim().length>=6&&s.trim().length>=6&&t.trim()==s.trim()&&""!=a.vercode?e.showLoading({title:"加载中",mask:!0,success:function(){e.request({url:a.serverUrl+"/user/resetPsd",method:"POST",data:{phone:a.phoneNum,devCode:a.cid(),password:t.trim(),code:a.vercode},header:{"content-type":"application/x-www-form-urlencoded"},sslVerify:!1,success:function(t){e.hideLoading(),"10000"==t.data.resultCode?(e.showToast({title:"修改完成",icon:"success",duration:2e3,mask:!0}),setTimeout(function(){a.disabledFlag=!1,e.switchTab({url:"../information/information"})},2e3)):(a.errorMsg=a.showError(t.data.msgCode,t.data.msg),a.showFlag=1,setTimeout(function(){a.errorMsg="",a.showFlag=0,a.disabledFlag=!1},5e3))},fail:function(t){e.hideLoading(),a.disabledFlag=!1,e.showModal({title:"提示",content:"网络或服务器异常，请稍后再试",showCancel:!1,success:function(e){e.confirm?n("log","用户点击确定"," at pages\\setNewPassword\\setNewPassword.vue:253"):e.cancel&&n("log","用户点击取消"," at pages\\setNewPassword\\setNewPassword.vue:255")}})}})}}):(a.disabledFlag=!1,e.showModal({title:"设置密码失败",content:"两次密码不相同或者验证码还未输入",showCancel:!1,success:function(e){e.confirm?n("log","用户点击确定"," at pages\\setNewPassword\\setNewPassword.vue:271"):e.cancel&&n("log","用户点击取消"," at pages\\setNewPassword\\setNewPassword.vue:273")}}))}},onLoad:function(e){this.phoneNum=e.phoneNum},components:{back:s}};a.default=o}).call(this,t("6e42")["default"],t("0de9")["default"])},"902b":function(e,a,t){"use strict";t.r(a);var n=t("7069"),s=t.n(n);for(var o in n)"default"!==o&&function(e){t.d(a,e,function(){return n[e]})}(o);a["default"]=s.a},9085:function(e,a,t){"use strict";(function(e){t("986c"),t("921b");n(t("66fd"));var a=n(t("dba4"));function n(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,t("6e42")["createPage"])},"99a5":function(e,a,t){"use strict";var n,s=function(){var e=this,a=e.$createElement;e._self._c},o=[];t.d(a,"b",function(){return s}),t.d(a,"c",function(){return o}),t.d(a,"a",function(){return n})},acae:function(e,a,t){"use strict";var n=t("122a"),s=t.n(n);s.a},dba4:function(e,a,t){"use strict";t.r(a);var n=t("99a5"),s=t("902b");for(var o in s)"default"!==o&&function(e){t.d(a,e,function(){return s[e]})}(o);t("acae");var i,r=t("f0c5"),l=Object(r["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],i);a["default"]=l.exports}},[["9085","common/runtime","common/vendor"]]]);