(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/modifyPasswordSetpassword/modifyPasswordSetpassword"],{"138c":function(e,a,s){"use strict";(function(e,t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=function(){return s.e("components/back").then(s.bind(null,"1898"))},n={data:function(){return{pageNameFlag:1,showFlag:0,pageName:"修改密码",phoneNum:"",passwordFlag:!0,againFlag:!0,password:"",again:"",seeFlag:0,seeAgainFlag:0,loadingFlag:!1,disabledFlag:!1,doneFlag:0,sendAgain:"发送验证码",sendAgainFlag:0,resetFlag:0,vercode:"",second:60,errorMsg:""}},methods:{changeVercode:function(e){var a=this;e.detail.value.length>0?(a.vercode=e.detail.value,a.resetFlag=1):(a.vercode="",a.resetFlag=0),6==e.detail.value.length?a.nextFlag=1:a.nextFlag=0},reset:function(){this.vercode="",this.resetFlag=0,this.nextFlag=0},setPassword:function(e){var a=this;e.detail.value.length>0?(a.seeFlag=1,a.password=e.detail.value.trim(),e.detail.value.trim().length>=6&&a.again.trim().length>=6?a.doneFlag=1:a.doneFlag=0):(a.seeFlag=0,a.password="")},setAgain:function(e){var a=this;e.detail.value.length>0?(a.seeAgainFlag=1,a.again=e.detail.value.trim(),e.detail.value.trim().length>=6&&a.password.trim().length>=6?a.doneFlag=1:a.doneFlag=0):(a.seeAgainFlag=0,a.again="")},see:function(e){this.passwordFlag=e},seeAgain:function(e){this.againFlag=e},sendVercodeAgain:function(){var a=this;60==a.second&&(a.sendAgainFlag=1,e.request({url:a.serverUrl+"/user/authCode",method:"POST",data:{phone:a.phoneNum,devCode:a.cid(),type:2},header:{"content-type":"application/x-www-form-urlencoded"},sslVerify:!1,success:function(e){if("10000"==e.data.resultCode){a.second--;var s=setInterval(function(){a.sendAgain="重新发送("+a.second--+"S)"},1e3);setTimeout(function(){clearInterval(s),a.sendAgain="发送验证码",a.second=60,a.sendAgainFlag=0},61e3)}else a.errorMsg=a.showError(e.data.msgCode,e.data.msg),a.showFlag=1,setTimeout(function(){a.errorMsg="",a.showFlag=0,a.sendAgainFlag=0},5e3)},fail:function(){a.sendAgainFlag=0,e.showModal({title:"提示",content:"网络或服务器异常，请稍后再试",showCancel:!1,success:function(e){e.confirm?t("log","用户点击确定"," at pages\\modifyPasswordSetpassword\\modifyPasswordSetpassword.vue:188"):e.cancel&&t("log","用户点击取消"," at pages\\modifyPasswordSetpassword\\modifyPasswordSetpassword.vue:190")}})}}))},complete:function(){var a=this;if(a.disabledFlag=!0,a.judgeLogin()){var s=a.password,o=a.again;s.trim().length>=6&&o.trim().length>=6&&s.trim()==o.trim()&&""!=a.vercode?e.showLoading({title:"加载中",mask:!0,success:function(){e.request({url:a.serverUrl+"/user/modifyPsd",method:"POST",data:{userId:e.getStorageSync("userInfo").userId,phone:a.phoneNum,devCode:a.cid(),password:s.trim(),code:a.vercode},header:{"content-type":"application/x-www-form-urlencoded"},sslVerify:!1,success:function(s){e.hideLoading(),"10000"==s.data.resultCode?(e.showToast({title:"修改完成",icon:"success",duration:2e3,mask:!0}),setTimeout(function(){e.clearStorageSync(),a.disabledFlag=!1,e.redirectTo({url:"../login/login"})},2e3)):(a.errorMsg=a.showError(s.data.msgCode,s.data.msg),a.showFlag=1,setTimeout(function(){a.errorMsg="",a.showFlag=0,a.disabledFlag=!1},5e3))},fail:function(s){e.hideLoading(),a.disabledFlag=!1,e.showModal({title:"提示",content:"网络或服务器异常，请稍后再试",showCancel:!1,success:function(e){e.confirm?t("log","用户点击确定"," at pages\\modifyPasswordSetpassword\\modifyPasswordSetpassword.vue:257"):e.cancel&&t("log","用户点击取消"," at pages\\modifyPasswordSetpassword\\modifyPasswordSetpassword.vue:259")}})}})}}):(a.disabledFlag=!1,e.showModal({title:"设置密码失败",content:"两次输入的密码不相同或者还未输入验证码",showCancel:!1,success:function(e){e.confirm?t("log","用户点击确定"," at pages\\modifyPasswordSetpassword\\modifyPasswordSetpassword.vue:275"):e.cancel&&t("log","用户点击取消"," at pages\\modifyPasswordSetpassword\\modifyPasswordSetpassword.vue:277")}}))}}},onLoad:function(a){var s=this;s.judgeLogin()&&(s.phoneNum=e.getStorageSync("userInfo").phone)},components:{back:o}};a.default=n}).call(this,s("6e42")["default"],s("0de9")["default"])},"13e7":function(e,a,s){"use strict";(function(e){s("986c"),s("921b");t(s("66fd"));var a=t(s("ecfd"));function t(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,s("6e42")["createPage"])},"227c":function(e,a,s){"use strict";var t=s("2f23"),o=s.n(t);o.a},"2f23":function(e,a,s){},b21b:function(e,a,s){"use strict";var t,o=function(){var e=this,a=e.$createElement;e._self._c},n=[];s.d(a,"b",function(){return o}),s.d(a,"c",function(){return n}),s.d(a,"a",function(){return t})},bf0b:function(e,a,s){"use strict";s.r(a);var t=s("138c"),o=s.n(t);for(var n in t)"default"!==n&&function(e){s.d(a,e,function(){return t[e]})}(n);a["default"]=o.a},ecfd:function(e,a,s){"use strict";s.r(a);var t=s("b21b"),o=s("bf0b");for(var n in o)"default"!==n&&function(e){s.d(a,e,function(){return o[e]})}(n);s("227c");var d,r=s("f0c5"),i=Object(r["a"])(o["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],d);a["default"]=i.exports}},[["13e7","common/runtime","common/vendor"]]]);