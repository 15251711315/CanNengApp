(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/setNewMessage/setNewMessage"],{"032e":function(e,t,a){"use strict";a.r(t);var n=a("6606"),s=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);t["default"]=s.a},6606:function(module,exports,__webpack_require__){"use strict";(function(uni,__f__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var back=function(){return __webpack_require__.e("components/back").then(__webpack_require__.bind(null,"1898"))},_default={data:function(){return{pageNameFlag:1,pageName:"新消息提醒",transientFlag:!0,steadyFlag:!0,terminalFlag:!0,systemFlag:!0}},methods:{changeTransientFlag:function(e){uni.showLoading({mask:!0}),this.transientFlag=e.detail.value,this.setFlag(1,this.transientFlag)},changeSteadyFlag:function(e){uni.showLoading({mask:!0}),this.steadyFlag=e.detail.value,this.setFlag(2,this.steadyFlag)},changeTerminalFlag:function(e){uni.showLoading({mask:!0}),this.terminalFlag=e.detail.value,this.setFlag(3,this.terminalFlag)},changeSystemFlag:function(e){uni.showLoading({mask:!0}),this.systemFlag=e.detail.value,this.setFlag(4,this.systemFlag)},setFlag:function(e,t){var a=this,n=this;n.judgeLogin()&&uni.request({url:n.serverUrl+"/user/msgSet",method:"POST",data:{userId:uni.getStorageSync("userInfo").userId,eventInfo:n.transientFlag?1:0,targetInfo:n.steadyFlag?1:0,deviceInfo:n.terminalFlag?1:0,systemInfo:n.systemFlag?1:0},header:{"content-type":"application/x-www-form-urlencoded"},sslVerify:!1,success:function(n){if(uni.hideLoading(),"10000"!=n.data.resultCode){var s=!0;s=!t,1==e?a.transientFlag=s:2==e?a.steadyFlag=s:3==e?a.terminalFlag=s:a.systemFlag=s}},fail:function(e){uni.hideLoading(),uni.showModal({title:"提示",content:"网络或服务器异常，请稍后再试",showCancel:!1,success:function(e){e.confirm?__f__("log","用户点击确定"," at pages\\setNewMessage\\setNewMessage.vue:122"):e.cancel&&__f__("log","用户点击取消"," at pages\\setNewMessage\\setNewMessage.vue:124")}})}})},queryFlag:function queryFlag(){var that=this;that.judgeLogin()&&uni.request({url:that.serverUrl+"/user/getMsg",method:"POST",data:{userId:uni.getStorageSync("userInfo").userId,devCode:that.cid()},header:{"content-type":"application/x-www-form-urlencoded"},sslVerify:!1,success:function success(res){if(uni.hideLoading(),"10000"==res.data.resultCode){var msg=eval(res.data.data);that.transientFlag=1==msg.eventInfo,that.steadyFlag=1==msg.targetInfo,that.terminalFlag=1==msg.deviceInfo,that.systemFlag=1==msg.systemInfo}else uni.showModal({title:"提示",content:"查询失败，请重试",confirmText:"重试",success:function(e){e.confirm?(that.transientPage--,that.queryTransientList()):e.cancel&&__f__("log","用户点击取消"," at pages\\setNewMessage\\setNewMessage.vue:164")}})},fail:function(e){uni.hideLoading(),uni.showModal({title:"提示",content:"网络或服务器异常，请稍后再试",showCancel:!1,success:function(e){e.confirm?__f__("log","用户点击确定"," at pages\\setNewMessage\\setNewMessage.vue:178"):e.cancel&&__f__("log","用户点击取消"," at pages\\setNewMessage\\setNewMessage.vue:180")}})}})}},onLoad:function(){this.queryFlag()},components:{back:back}};exports.default=_default}).call(this,__webpack_require__("6e42")["default"],__webpack_require__("0de9")["default"])},"7ce9":function(e,t,a){"use strict";a.r(t);var n=a("801b"),s=a("032e");for(var i in s)"default"!==i&&function(e){a.d(t,e,function(){return s[e]})}(i);a("d0f6");var u,o=a("f0c5"),r=Object(o["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],u);t["default"]=r.exports},"801b":function(e,t,a){"use strict";var n,s=function(){var e=this,t=e.$createElement;e._self._c},i=[];a.d(t,"b",function(){return s}),a.d(t,"c",function(){return i}),a.d(t,"a",function(){return n})},cfc2:function(e,t,a){"use strict";(function(e){a("986c"),a("921b");n(a("66fd"));var t=n(a("7ce9"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("6e42")["createPage"])},d0f6:function(e,t,a){"use strict";var n=a("e665"),s=a.n(n);s.a},e665:function(e,t,a){}},[["cfc2","common/runtime","common/vendor"]]]);