(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"4fba":function(e,a,t){"use strict";t.r(a);var n=t("8937"),o=t.n(n);for(var r in n)"default"!==r&&function(e){t.d(a,e,function(){return n[e]})}(r);a["default"]=o.a},"7f18":function(e,a,t){},8937:function(module,exports,__webpack_require__){"use strict";(function(uni,__f__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var back=function(){return __webpack_require__.e("components/back").then(__webpack_require__.bind(null,"1898"))},_default={data:function(){return{vercodeFlag:0,loadingFlag:!1,phoneNum:"",errorMsg:"",showFlag:0,loginType:1,password:"",passwordFlag:!0,seeFlag:0,resetFlag:0,backShowFlag:0,rememberFlag:1,disabledFlag:!1}},methods:{changeRememberFlag:function(){var e=this;0==e.rememberFlag?e.rememberFlag=1:e.rememberFlag=0},changeClass:function(e){var a=this,t=e.detail.value.length,n=a.loginType;t>0?(a.resetFlag=1,a.phoneNum=e.detail.value):(a.resetFlag=0,a.phoneNum=""),t>=10?0==n?a.vercodeFlag=1:null!=a.password&&""!=a.password&&(a.vercodeFlag=1):a.vercodeFlag=0},resetPhoneNum:function(){this.phoneNum="",this.resetFlag=0,this.vercodeFlag=0},changePasswordClass:function(e){var a=this,t=e.detail.value.length,n=a.phoneNum;t>0?(a.password=e.detail.value,a.seeFlag=1,null!=n&&""!=n&&(a.vercodeFlag=1)):(a.vercodeFlag=0,a.password="",a.seeFlag=0)},reset:function(){this.password="",this.passwordFlag=!0,this.seeFlag=0,this.vercodeFlag=0},see:function(e){this.passwordFlag=e},getVercode:function(){var e=this;if(e.disabledFlag=!0,e.loadingFlag=!0,11!=e.phoneNum.length)return e.showFlag=1,e.errorMsg="请检查号码",e.loadingFlag=!1,void setTimeout(function(){e.errorMsg="",e.showFlag=0,e.disabledFlag=!1},5e3);uni.request({url:e.serverUrl+"/user/authCode",method:"POST",data:{phone:e.phoneNum,devCode:e.cid(),type:0},header:{"content-type":"application/x-www-form-urlencoded"},sslVerify:!1,success:function(a){e.loadingFlag=!1,"10000"==a.data.resultCode?(e.disabledFlag=!1,uni.navigateTo({url:"../vercode/vercode?phoneNum="+e.phoneNum})):(e.errorMsg=e.showError(a.data.msgCode,a.data.msg),e.showFlag=1,setTimeout(function(){e.errorMsg="",e.showFlag=0,e.disabledFlag=!1},5e3))},fail:function(a){e.loadingFlag=!1,e.disabledFlag=!1,uni.showModal({title:"提示",content:"网络或服务器异常，请稍后再试",showCancel:!1,success:function(e){e.confirm?__f__("log","用户点击确定"," at pages\\login\\login.vue:212"):e.cancel&&__f__("log","用户点击取消"," at pages\\login\\login.vue:214")}})}})},loginIn:function loginIn(account,password){var that=this;if(that.loadingFlag=!0,that.disabledFlag=!0,11!=account.length)return that.loadingFlag=!1,that.showFlag=1,that.errorMsg="请检查号码",void setTimeout(function(){that.errorMsg="",that.showFlag=0,that.disabledFlag=!1},5e3);uni.request({url:that.serverUrl+"/user/login",method:"POST",data:{phone:account,devCode:that.cid(),key:password.trim(),type:1},header:{"content-type":"application/x-www-form-urlencoded"},sslVerify:!1,success:function success(res){if(that.loadingFlag=!1,"10000"==res.data.resultCode){1==that.rememberFlag&&null!=that.phoneNum&&void 0!=that.phoneNum&&""!=that.phoneNum&&null!=that.password&&void 0!=that.password&&""!=that.password&&(uni.setStorageSync("account",that.phoneNum),uni.setStorageSync("password",that.password)),uni.setStorageSync("loginType",1),uni.setStorageSync("loginTime",new Date);var userInfo=eval(res.data.data);userInfo.phoneNum=that.phoneNum,uni.setStorageSync("userInfo",userInfo),that.disabledFlag=!1,uni.switchTab({url:"../information/information"})}else{var msg="";msg=void 0==res.data.msg||null==res.data.msg||""==res.data.msg?"服务器或网络异常":res.data.msg,that.errorMsg=that.showError(res.data.msgCode,msg),that.showFlag=1,setTimeout(function(){that.errorMsg="",that.showFlag=0,that.disabledFlag=!1},5e3)}},fail:function(e){that.disabledFlag=!1,that.loadingFlag=!1,uni.showModal({title:"提示",content:"服务器或网络异常",showCancel:!1,success:function(e){e.confirm?__f__("log","用户点击确定"," at pages\\login\\login.vue:292"):e.cancel&&__f__("log","用户点击取消"," at pages\\login\\login.vue:294")}})}})},changeLoginType:function(e){var a=this;a.loginType=e,a.loadingFlag=!1,a.errorMsg="",a.showFlag=0,a.password="",a.passwordFlag=!1,a.seeFlag=0,a.vercodeFlag=0,0==e&&a.phoneNum.length>=10&&(a.vercodeFlag=1)},jumpToForgetPassword:function(){uni.navigateTo({url:"../forgetPassword/forgetPassword"})},jumpToFastlogin:function(){uni.navigateTo({url:"../fastLogin/fastLogin"})},jumpToUserAgreement:function(){uni.navigateTo({url:"../userAgreement/userAgreement"})},jumpToPrivacyAgreement:function(){uni.navigateTo({url:"../privacyAgreement/privacyAgreement"})}},onLoad:function(){var e=this;e.getCid();var a=e.cid();if(a){var t=uni.getStorageSync("loginTime");if(t)if((new Date-t)/864e5>30||new Date-t<0)uni.removeStorageSync("account"),uni.removeStorageSync("password");else if(1==uni.getStorageSync("loginType")){var n=uni.getStorageSync("account"),o=uni.getStorageSync("password");null!=n&&void 0!=n&&""!=n&&null!=o&&void 0!=o&&""!=o&&(e.phoneNum=n,e.password=o,e.vercodeFlag=1,e.resetFlag=1,e.seeFlag=1,e.passwordFlag=1,e.loginIn(n,o))}else uni.getStorageSync("userInfo")&&uni.switchTab({url:"../information/information"})}else setTimeout(function(){var a=uni.getStorageSync("loginTime");if(a)if((new Date-a)/864e5>30||new Date-a<0)uni.removeStorageSync("account"),uni.removeStorageSync("password");else{var t=uni.getStorageSync("account"),n=uni.getStorageSync("password");null!=t&&void 0!=t&&""!=t&&null!=n&&void 0!=n&&""!=n&&(e.phoneNum=t,e.password=n,e.vercodeFlag=1,e.resetFlag=1,e.seeFlag=1,e.passwordFlag=1,e.loginIn(t,n))}},2e3)},components:{back:back}};exports.default=_default}).call(this,__webpack_require__("6e42")["default"],__webpack_require__("0de9")["default"])},"93c7":function(e,a,t){"use strict";(function(e){t("986c"),t("921b");n(t("66fd"));var a=n(t("a4b4"));function n(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,t("6e42")["createPage"])},a4b4:function(e,a,t){"use strict";t.r(a);var n=t("bc6d"),o=t("4fba");for(var r in o)"default"!==r&&function(e){t.d(a,e,function(){return o[e]})}(r);t("f5a5");var s,i=t("f0c5"),l=Object(i["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],s);a["default"]=l.exports},bc6d:function(e,a,t){"use strict";var n,o=function(){var e=this,a=e.$createElement;e._self._c},r=[];t.d(a,"b",function(){return o}),t.d(a,"c",function(){return r}),t.d(a,"a",function(){return n})},f5a5:function(e,a,t){"use strict";var n=t("7f18"),o=t.n(n);o.a}},[["93c7","common/runtime","common/vendor"]]]);