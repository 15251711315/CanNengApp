(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/dataIntegrityDetails/dataIntegrityDetails"],{"0e25":function(e,t,n){"use strict";n.r(t);var a=n("ea90"),r=n("8219");for(var i in r)"default"!==i&&function(e){n.d(t,e,function(){return r[e]})}(i);n("fe31");var o,c=n("f0c5"),u=Object(c["a"])(r["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);t["default"]=u.exports},"527e":function(e,t,n){"use strict";(function(e){n("986c"),n("921b");a(n("66fd"));var t=a(n("0e25"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},8219:function(e,t,n){"use strict";n.r(t);var a=n("cf29"),r=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,function(){return a[e]})}(i);t["default"]=r.a},ab22:function(e,t,n){},cf29:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("36e0"));function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};a.get||a.set?Object.defineProperty(t,n,a):t[n]=e[n]}return t.default=e,t}var i=function(){return n.e("components/back").then(n.bind(null,"1898"))},o=function(){return Promise.all([n.e("common/vendor"),n.e("components/uni-calendar/uni-calendar")]).then(n.bind(null,"3785"))},c=function(){return Promise.all([n.e("common/vendor"),n.e("components/mpvue-echarts/src/echarts")]).then(n.bind(null,"b92b"))},u={data:function(){return{pageNameFlag:1,pageName:"数据完整性详情",startDate:"",endDate:"",picHeight:"",option:{},dataIntegrity:{},timeEnd:"",timeStart:"",errorFlag:0,integrityz:"",srollHeight:""}},methods:{chooseDate:function(){this.$refs.calendar.open()},confirm:function(e){var t=this,n=e.range.before,a=e.range.after,r=parseInt(n.replace("-","").replace("-","")),i=parseInt(a.replace("-","").replace("-",""));i>r?(t.startDate=n,t.endDate=a):(t.startDate=a,t.endDate=n)},getDataIntegrity:function(){var t=this;t.judgeLogin()&&e.request({url:t.serverUrl+"/dataIntegrity/getDataIntegrity",method:"POST",data:{userId:e.getStorageSync("userInfo").userId},header:{"content-type":"application/x-www-form-urlencoded"},sslVerify:!1,success:function(n){if(e.hideLoading(),"10000"==n.data.resultCode){var a=n.data,r=n.data.data;t.timeStart=t.formatTime(a.timeStart),t.timeEnd=t.formatTime(a.timeEnd),t.integrityz=a.integrityz+"",t.dataIntegrity=r;for(var i=[],o=[],c=0;c<r.length;c++)i.push(r[c].lineName),o.push(r[c].integrity);t.drawPic(i,o)}else e.hideLoading(),t.errorFlag=1},fail:function(){e.hideLoading(),t.errorFlag=1}})},drawPic:function(t,n){var r=this,i="55%",o="30%";r.option={grid:{width:i,left:o},xAxis:{name:"数据完整性(%)",type:"value",nameGap:30,nameLocation:"center",max:100,axisLabel:{margin:10}},yAxis:{type:"category",inverse:!0,data:t,axisLabel:{interval:0,fontsize:6,formatter:function(e){return e.length>9?e.substring(0,8)+"...":e}}},series:{type:"bar",label:{normal:{show:!0,position:"right"}},data:n,itemStyle:{color:"#58C1FF",position:"top"},barWidth:"90%"}};var c=e.getSystemInfoSync(),u=c.windowWidth,s=c.windowHeight,l=750/u,d=c.statusBarHeight;r.srollHeight=parseInt((s-d)*l-300)+"rpx";var f=50*t.length+50;r.picHeight=f*l+"rpx";var g=r.$refs.lineChart.canvas;a.setCanvasCreator(function(){return g});var p=a.init(g,null,{width:u,height:f});g.setChart(p),p.setOption(r.option),r.$refs.lineChart.setChart(p)},retry:function(){this.getDataIntegrity()}},onLoad:function(){e.showLoading({mask:!0})},onReady:function(){var e=this;e.getDataIntegrity()},components:{back:i,uniCalendar:o,mpvueEcharts:c}};t.default=u}).call(this,n("6e42")["default"])},ea90:function(e,t,n){"use strict";var a={"uni-calendar":()=>Promise.all([n.e("common/vendor"),n.e("components/uni-calendar/uni-calendar")]).then(n.bind(null,"3785"))},r=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return a})},fe31:function(e,t,n){"use strict";var a=n("ab22"),r=n.n(a);r.a}},[["527e","common/runtime","common/vendor"]]]);